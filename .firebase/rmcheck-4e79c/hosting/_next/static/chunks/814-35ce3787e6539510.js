"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{3125:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(5155),l=s(2115),r=s(9948),n=s(2192),i=s(9281),o=s(5405),d=s(7902),c=s(9708);let u=e=>{if(!e)return null;if(e instanceof Date)return e;if("function"==typeof e.toDate)return e.toDate();if("number"==typeof e.seconds)return new c.Dc(e.seconds,e.nanoseconds||0).toDate();if("string"==typeof e){let t=new Date(e);if(!isNaN(t.getTime()))return t}return null};function m(e){let{plan:t,submissions:s,onEditClick:c,onStartRecommended:m}=e,{startDate:h,endDate:x,studyDays:p,totalWeeks:g}=(0,l.useMemo)(()=>{let e=u(t.startDate),s=u(t.endDate);return{startDate:e,endDate:s,studyDays:t.studyDays||[],totalWeeks:e&&s?(0,r.I)(s,e)+1:0}},[t]),{currentWeek:b,weekProgress:f,isStudyDay:y,nextActionText:w}=(0,l.useMemo)(()=>{if(!h||!x)return{currentWeek:0,weekProgress:0,isStudyDay:!1,nextActionText:"학습 계획을 시작하세요!"};let e=new Date,t=(0,r.I)(e,h)+1,a=(0,n.k)(e),l=s.filter(t=>{let s=u(t.createdAt);return s&&s>=a&&s<=e}).length,d=Math.min(100,p.length>0?l/p.length*100:0),c=p.includes((0,i.P)(e)),m="오늘의 추천 학습 시작하기";return c||(m="오늘은 쉬는 날입니다! \uD83E\uDDD8"),(0,o.r)(e,h)&&(m="새로운 학습 계획을 시작하세요! \uD83C\uDF89"),{currentWeek:t,weekProgress:d,isStudyDay:c,nextActionText:m}},[h,x,p,s]);return h&&x?(0,a.jsxs)("section",{className:"bg-gray-50 p-6 rounded-lg shadow mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 leading-tight",children:[(0,a.jsxs)("span",{className:"sm:hidden",children:["나의 학습 계획",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"text-base font-medium text-gray-600",children:["(총 ",g,"주 과정)"]})]}),(0,a.jsxs)("span",{className:"hidden sm:inline",children:["나의 학습 계획 (총 ",g,"주 과정)"]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,d.GP)(h,"yyyy.MM.dd")," ~ ",(0,d.GP)(x,"yyyy.MM.dd")]})]}),(0,a.jsx)("button",{onClick:c,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors text-sm whitespace-nowrap self-stretch sm:self-auto",children:"계획 수정"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm font-semibold mb-1",children:[(0,a.jsx)("span",{children:b>0?"".concat(b,"주차 진행도 / 총 ").concat(g,"주"):"계획 시작 전"}),(0,a.jsxs)("span",{children:[Math.round(f),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(f,"%")}})})]}),(0,a.jsx)("button",{onClick:m,disabled:!y,className:"w-full mt-4 py-3 bg-primary text-white font-bold rounded-lg hover:bg-primary-hover disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:w})]}):null}},3139:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5155),l=s(2115);let r={"통합과학 1":[{id:"1-1",name:"과학의 기초",subChapters:["1-1-1: 시간과 공간","1-1-2: 기본량과 단위","1-1-3: 측정과 측정 표준","1-1-4: 정보와 디지털 기술"]},{id:"1-2",name:"원소의 형성",subChapters:["1-2-1: 우주 초기에 형성된 원소","1-2-2: 지구와 생명체를 이루는 원소의 생성"]},{id:"1-3",name:"물질의 규칙성과 성질",subChapters:["1-3-1: 원소의 주기성과 화학 결합","1-3-2: 이온 결합과 공유 결합","1-3-3: 지각과 생명체 구성 물질의 규칙성","1-3-4: 물질의 전기적 성질"]},{id:"1-4",name:"지구시스템",subChapters:["1-4-1: 지구시스템의 구성 요소","1-4-2: 지구시스템의 상호작용","1-4-3: 지권의 변화"]},{id:"1-5",name:"역학 시스템",subChapters:["1-5-1: 중력과 역학 시스템","1-5-2: 운동과 충돌"]},{id:"1-6",name:"생명 시스템",subChapters:["1-6-1: 생명 시스템의 기본 단위","1-6-2: 물질대사와 효소","1-6-3: 세포 내 정보의 흐름"]}],"통합과학 2":[{id:"2-1",name:"지질 시대와 생물 다양성",subChapters:["2-1-1: 지질시대의 생물과 화석","2-1-2: 자연선택과 진화","2-1-3: 생물다양성과 보전"]},{id:"2-2",name:"화학 변화",subChapters:["2-2-1: 산화와 환원","2-2-2: 산성과 염기성","2-2-3: 중화 반응","2-2-4: 물질 변화에서 에너지 출입"]},{id:"2-3",name:"생태계와 환경 변화",subChapters:["2-3-1: 생태계 구성 요소","2-3-2: 생태계 평형","2-3-3: 기후 변화와 지구 환경 변화"]},{id:"2-4",name:"에너지와 지속가능한 발전",subChapters:["2-4-1: 태양 에너지의 생성과 전환","2-4-2: 전기 에너지의 생산","2-4-3: 에너지 효율과 신재생 에너지"]},{id:"2-5",name:"과학과 미래 사회",subChapters:["2-5-1: 과학의 유용성과 필요성","2-5-2: 과학 기술 사회와 빅데이터","2-5-3: 과학 기술의 발전과 미래 사회","2-5-4: 과학 관련 사회적 쟁점과 과학 윤리"]}]},n=new Map;function i(e){let{onClose:t,onComplete:s,initialSelectedIds:i=[],hideQuestionCount:o=!1}=e,[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)([]),[h,x]=(0,l.useState)(30);(0,l.useEffect)(()=>{m(i)},[i]);let p=e=>{c(d===e?null:e)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];m([...new Set(u.includes(e)?u.filter(s=>s!==e&&!t.includes(s)):[...u,e,...t])])},b=()=>u.filter(e=>3===e.split("-").length);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["단원 선택 (",b().length,"개 선택됨)"]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 text-2xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"flex-grow overflow-y-auto max-h-[60vh]",children:Object.entries(r).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"p-4 bg-gray-100 text-lg font-semibold sticky top-0",children:t}),(0,a.jsx)("div",{className:"p-4",children:s.map(e=>(0,a.jsxs)("div",{className:"border-b last:border-b-0 py-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("label",{className:"flex items-center flex-grow p-2 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary",checked:u.includes(e.id),onChange:()=>{var t;return g(e.id,null==(t=e.subChapters)?void 0:t.map(e=>e.split(":")[0].trim()))}}),(0,a.jsx)("span",{className:"ml-3 font-medium text-lg",onClick:t=>{t.stopPropagation(),p(e.name)},children:e.name})]}),e.subChapters&&(0,a.jsx)("button",{onClick:()=>p(e.name),className:"p-2",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(d===e.name?"rotate-180":""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})]}),d===e.name&&e.subChapters&&(0,a.jsx)("ul",{className:"pl-12 mt-2 space-y-2",children:e.subChapters.map(t=>{let[s,l]=t.split(": ");return(0,a.jsx)("li",{children:(0,a.jsxs)("label",{className:"flex items-center p-2 rounded-md hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary",checked:u.includes(s.trim()),onChange:()=>((e,t)=>{var s;let a=u.includes(e)?u.filter(t=>t!==e):[...u,e],l=Object.values(r).flat().find(e=>e.id===t);((null==l||null==(s=l.subChapters)?void 0:s.map(e=>e.split(":")[0].trim()))||[]).every(e=>a.includes(e))?a.includes(t)||a.push(t):a=a.filter(e=>e!==t),m(a)})(s.trim(),e.id)}),(0,a.jsx)("span",{className:"ml-3 text-gray-700",children:l})]})},s)})})]},e.id))})]},t)})}),(0,a.jsxs)("div",{className:"p-6 bg-gray-50 border-t space-y-4",children:[!o&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"questionCountRange",className:"block text-lg font-semibold mb-2",children:["문항 수: ",(0,a.jsx)("span",{className:"text-primary font-bold",children:h}),"개"]}),(0,a.jsx)("input",{id:"questionCountRange",type:"range",min:"10",max:"50",step:"5",value:h,onChange:e=>x(parseInt(e.target.value,10)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,a.jsx)("button",{className:"w-full px-6 py-3 bg-primary text-white font-bold text-lg rounded-lg hover:bg-primary-hover disabled:bg-gray-400",disabled:0===b().length,onClick:()=>{let e=b(),t=e.map(e=>n.get(e)||"");s({unitIds:e,unitNames:t,count:h})},children:"선택 완료"})]})]})})}Object.values(r).flat().forEach(e=>{e.subChapters.forEach(e=>{let[t,s]=e.split(": ");n.set(t.trim(),s.trim())})})},5190:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(5155);function l(e){let{onSetupClick:t}=e;return(0,a.jsx)("section",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg shadow mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-yellow-800",children:"체계적인 학습을 시작해보세요!"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"학습 계획을 설정하여 매일 꾸준히 실력을 향상시킬 수 있습니다."})]}),(0,a.jsx)("div",{className:"ml-auto w-full sm:w-auto",children:(0,a.jsx)("button",{onClick:t,className:"px-5 py-2 bg-yellow-400 text-yellow-900 font-semibold rounded-lg hover:bg-yellow-500 transition-colors whitespace-nowrap w-full sm:w-auto",children:"계획 설정하기"})})]})})}},5205:(e,t,s)=>{s.d(t,{AuthProvider:()=>m,A:()=>h});var a=s(5155),l=s(2115),r=s(2553),n=s(9708),i=s(5465),o=s(63),d=s(6849);function c(){let e=(0,o.useSearchParams)(),t=(0,o.useRouter)(),s=(0,r.xI)(),{user:a}=h();return(0,l.useEffect)(()=>{let l=e.get("code");l&&!a&&(0,d.Qg)(i.C,"kakaoLogin")({code:l}).then(e=>{let t=e.data.firebase_token;return(0,r.p)(s,t)}).then(()=>{t.replace("/")}).catch(e=>{console.error("Kakao 로그인 실패:",e),alert("카카오 로그인에 실패했습니다."),t.replace("/")})},[e,s,a,t]),null}let u=(0,l.createContext)(void 0);function m(e){let{children:t}=e,[s,o]=(0,l.useState)(null),[d,m]=(0,l.useState)(!0),h=(0,r.xI)(),x=async e=>{let t=(0,n.H9)(i.db,"students",e.uid);(await (0,n.x7)(t)).exists()||await (0,n.BN)(t,{studentName:e.displayName,kakaoNickname:e.displayName,email:e.email,createdAt:(0,n.O5)(),status:"active",isDeleted:!1,academyName:null})};(0,l.useEffect)(()=>{let e=(0,r.hg)(h,e=>{o(e),m(!1),e&&x(e)});return()=>e()},[h]);let p=async()=>{m(!0);try{let e=await fetch("https://asia-northeast3-rmcheck-4e79c.cloudfunctions.net/getKakaoLoginUrl"),t=await e.json();window.location.href=t.auth_url}catch(e){console.error("Failed to get Kakao login URL:",e),alert("로그인에 실패했습니다. 잠시 후 다시 시도해주세요."),m(!1)}};return(0,a.jsxs)(u.Provider,{value:{user:s,loading:d,loginWithKakao:p,logout:()=>{h.signOut()}},children:[(0,a.jsx)(l.Suspense,{fallback:null,children:(0,a.jsx)(c,{})}),t]})}function h(){let e=(0,l.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5465:(e,t,s)=>{s.d(t,{C:()=>o,db:()=>i});var a=s(2078),l=s(9708),r=s(6849);let n=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyC5SUu7e-aNUfgBEeEoXEwjONknWKhbtBI",authDomain:"rmcheck-4e79c.firebaseapp.com",projectId:"rmcheck-4e79c",storageBucket:"rmcheck-4e79c.firebasestorage.app",messagingSenderId:"1081522017302",appId:"1:1081522017302:web:b7bd3e0436a05c92c29137"}):(0,a.Dk)()[0],i=(0,l.aU)(n),o=(0,r.Uz)(n,"asia-northeast3")},8753:(e,t,s)=>{s.d(t,{f:()=>c});var a=s(2115),l=s(5205),r=s(5465),n=s(9708),i=s(7902),o=s(6467),d=s(8998);function c(){let{user:e}=(0,l.A)(),[t,s]=(0,a.useState)({submissions:[],incorrectQuestions:[],totalAnsweredCount:0,totalIncorrectCount:0,studyStreak:0,strongestChapter:null,weakestChapter:null}),[c,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e)return void u(!1);(async()=>{u(!0);try{let t=(0,n.P)((0,n.rJ)(r.db,"submissions"),(0,n._M)("userId","==",e.uid),(0,n.My)("createdAt","desc")),a=(await (0,n.GG)(t)).docs.map(e=>({id:e.id,...e.data()})),l=[...new Set(a.flatMap(e=>e.questionIds||[]))],c=new Map;if(l.length>0)for(let e=0;e<l.length;e+=30){let t=l.slice(e,e+30),s=(0,n.P)((0,n.rJ)(r.db,"questionBank"),(0,n._M)((0,n.Fs)(),"in",t));(await (0,n.GG)(s)).forEach(e=>{let t=e.data();c.set(e.id,{id:e.id,answerIndex:t.answerIndex,subChapter:t.subChapter,mainChapter:t.mainChapter})})}let u=a.map(e=>{let t=e.questionIds?c.get(e.questionIds[0]):null,s=(e.questionIds||[]).map((t,s)=>{var a;let l=c.get(t);return!!l&&l.answerIndex===(null==(a=e.answers)?void 0:a[s])});return{...e,mainChapter:e.mainChapter||(null==t?void 0:t.mainChapter)||"알 수 없음",subChapter:e.subChapter||(null==t?void 0:t.subChapter)||"알 수 없음",isCorrect:s}}),m=[...new Set(u.flatMap(e=>(e.questionIds||[]).filter((t,s)=>!e.isCorrect[s])))],h=Array.from(c.values()).filter(e=>m.includes(e.id)),x=[...new Set(u.map(e=>(0,i.GP)(e.createdAt.toDate(),"yyyy-MM-dd")))].sort().reverse(),p=0;if(x.length>0){let e=new Date,t=(0,o.H)(x[0]);if(1>=(0,d.m)(e,t)){p=1;for(let e=0;e<x.length-1;e++){let t=(0,o.H)(x[e]),s=(0,o.H)(x[e+1]);if(1===(0,d.m)(t,s))p++;else break}}}let g={};u.forEach(e=>{e.subChapter&&(g[e.subChapter]||(g[e.subChapter]={correct:0,total:0}),g[e.subChapter].total+=e.isCorrect.length,g[e.subChapter].correct+=e.isCorrect.filter(Boolean).length)});let b=Object.entries(g).filter(e=>{let[t,s]=e;return s.total>=5}).map(e=>{let[t,s]=e;return{name:t,rate:s.correct/s.total*100}}),f=null,y=null;b.length>=2?(b.sort((e,t)=>e.rate-t.rate),y=b[0].name,f=b[b.length-1].name):1===b.length&&(b[0].rate>=80?f=b[0].name:b[0].rate<=60&&(y=b[0].name)),s({submissions:u,incorrectQuestions:h,totalAnsweredCount:l.length,totalIncorrectCount:m.length,studyStreak:p,strongestChapter:f,weakestChapter:y})}catch(e){console.error("마이페이지 데이터 로딩 실패:",e)}finally{u(!1)}})()},[e]),{...t,loading:c}}},9245:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(5155),l=s(2115),r=s(9871),n=s(7902),i=s(1733),o=s(3139);let d=["일","월","화","수","목","금","토"],c={1:[1],2:[1,3],3:[1,3,5],4:[1,3,5,0],5:[1,2,3,4,5],6:[1,2,3,4,5,6],7:[0,1,2,3,4,5,6]};function u(e){let{onClose:t,onSave:s,existingPlan:u}=e,[m,h]=(0,l.useState)(new Date),[x,p]=(0,l.useState)(4),[g,b]=(0,l.useState)([]),[f,y]=(0,l.useState)(!1),[w,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(null==u?void 0:u.weeklyPlans){var e;h(((e=u.startDate)?"function"==typeof e.toDate?e.toDate():e instanceof Date?e:null:null)||new Date),p(u.weeklyPlans.length),b(u.weeklyPlans)}else b(Array.from({length:4},(e,t)=>({week:t+1,sessionsPerWeek:3,studyDays:c[3],unitIds:[],unitNames:[]}))),p(4)},[u]);let v=(e,t)=>{b(s=>{let a=[...s];return a[e]={...a[e],...t},a})},N=(0,l.useMemo)(()=>(0,r.W)(m,{weeks:x,days:-1}),[m,x]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,a.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:u?"학습 계획 수정":"학습 계획 설정"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 text-2xl",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[70vh]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"1. 전체 학습 기간 설정"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(e=>(0,a.jsxs)("button",{onClick:()=>{p(e),b(t=>{let s=t.length;return e>s?[...t,...Array.from({length:e-s},(e,t)=>({week:s+t+1,sessionsPerWeek:3,studyDays:c[3],unitIds:[],unitNames:[]}))]:e<s?t.slice(0,e):t})},className:"p-3 rounded-md font-semibold transition-colors ".concat(x===e?"bg-primary text-white":"bg-gray-200 hover:bg-gray-300"),children:[e,"주"]},e))})]}),(0,a.jsx)("div",{className:"p-4 bg-gray-50 rounded-md text-center",children:(0,a.jsxs)("p",{className:"font-bold text-lg",children:[(0,n.GP)(m,"yyyy.MM.dd")," ~ ",(0,n.GP)(N,"yyyy.MM.dd")]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"2. 주차별 상세 계획 설정"}),g.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,a.jsxs)("h4",{className:"font-bold text-lg",children:[e.week,"주차 계획"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-md font-semibold mb-2",children:["주당 학습 횟수: ",(0,a.jsxs)("span",{className:"text-primary font-bold ml-1",children:["주 ",e.sessionsPerWeek,"회"]})]}),(0,a.jsx)("input",{type:"range",min:"1",max:"7",value:e.sessionsPerWeek,onChange:e=>{let s=parseInt(e.target.value,10);v(t,{sessionsPerWeek:s,studyDays:c[s]})},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2",children:d.map((s,l)=>(0,a.jsx)("button",{onClick:()=>{let s=e.studyDays.includes(l)?e.studyDays.filter(e=>e!==l):[...e.studyDays,l].sort((e,t)=>e-t);v(t,{studyDays:s,sessionsPerWeek:s.length})},className:"p-2 rounded-md font-semibold text-sm transition-colors ".concat(e.studyDays.includes(l)?"bg-primary text-white":"bg-gray-200 hover:bg-gray-300"),children:s},l))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-md font-semibold mb-2",children:"학습 단원"}),(0,a.jsx)("div",{className:"p-3 bg-slate-50 rounded-md text-sm text-slate-600 min-h-[40px]",children:e.unitNames&&e.unitNames.length>0?e.unitNames.join(", "):"선택된 단원이 없습니다."}),(0,a.jsx)("button",{onClick:()=>{j(t),y(!0)},className:"mt-2 w-full px-4 py-2 bg-slate-600 text-white font-semibold rounded-lg hover:bg-slate-700",children:"학습 단원 선택"})]})]},e.week))]})]}),(0,a.jsx)("div",{className:"p-4 bg-gray-50 border-t text-right",children:(0,a.jsx)("button",{onClick:()=>{s({startDate:m,weeklyPlans:g})},className:"px-8 py-3 bg-primary text-white font-bold rounded-lg hover:bg-primary-hover",children:"계획 저장하기"})})]})}),f&&(0,a.jsx)(o.A,{onClose:()=>y(!1),onComplete:e=>{let{unitIds:t,unitNames:s}=e;null!==w&&v(w,{unitIds:t,unitNames:s}),y(!1),j(null)},initialSelectedIds:null!==w?g[w].unitIds:[],hideQuestionCount:!0})]})}}}]);