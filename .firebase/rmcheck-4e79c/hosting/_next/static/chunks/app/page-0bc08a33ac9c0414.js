(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4465:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(5155),l=t(2115),n=t(3139);function r(e){let{questions:s,onQuizComplete:t}=e,[n,r]=(0,l.useState)(0),[d,i]=(0,l.useState)(Array(s.length).fill(null)),c=s[n];if(!c)return(0,a.jsx)("div",{children:"문제를 불러오는 데 실패했습니다."});let o=[...c.choices,"모르겠음"];return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:(0,a.jsx)("div",{className:"bg-primary h-2.5 rounded-full",style:{width:"".concat((n+1)/s.length*100,"%")}})}),(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["문제 ",n+1]}),(0,a.jsxs)("span",{className:"font-semibold",children:[n+1," / ",s.length]})]}),(0,a.jsx)("div",{className:"p-6 bg-gray-50 rounded-lg mb-6",children:(0,a.jsx)("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:c.questionText})}),(0,a.jsx)("div",{className:"space-y-3",children:o.map((e,s)=>(0,a.jsxs)("button",{onClick:()=>(e=>{let s=[...d];s[n]=e,i(s)})(s),className:"w-full text-left p-4 rounded-lg border text-lg transition-colors\n              ".concat(d[n]===s?"bg-primary border-primary text-white":"bg-white hover:bg-gray-50"),children:[s+1,". ",e]},s))}),(0,a.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,a.jsx)("button",{onClick:()=>{n>0&&r(n-1)},disabled:0===n,className:"px-8 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"이전"}),n<s.length-1?(0,a.jsx)("button",{onClick:()=>{n<s.length-1&&r(n+1)},className:"px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-hover",children:"다음"}):(0,a.jsx)("button",{onClick:()=>t(d),className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"제출하기"})]})]})}function d(e){let{questions:s,userAnswers:t,onRestart:l}=e,n=0;s.forEach((e,s)=>{e.answerIndex===t[s]&&n++});let r=Math.round(n/s.length*100),d=s.filter((e,s)=>e.answerIndex!==t[s]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"퀴즈 결과"}),(0,a.jsxs)("p",{className:"text-6xl font-bold my-4 text-primary",children:[r,"점"]}),(0,a.jsxs)("p",{className:"text-lg text-gray-700",children:["총 ",s.length,"문제 중 ",(0,a.jsxs)("span",{className:"font-bold",children:[n,"문제"]}),"를 맞혔습니다."]}),(0,a.jsx)("button",{onClick:l,className:"mt-6 px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-hover",children:"처음으로 돌아가기"})]}),d.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"다시 풀어보기"}),(0,a.jsx)("div",{className:"space-y-4",children:d.map((e,l)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("p",{className:"font-semibold whitespace-pre-wrap",children:e.questionText}),(0,a.jsxs)("p",{className:"text-sm mt-2 text-green-600",children:["정답: ",e.choices[e.answerIndex]]}),(0,a.jsxs)("p",{className:"text-sm mt-1 text-red-600",children:["내 답변: ",null!==t[s.indexOf(e)]?e.choices[t[s.indexOf(e)]]:"선택 안 함"]}),(0,a.jsxs)("details",{className:"mt-2 text-sm",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-gray-500",children:"해설 보기"}),(0,a.jsx)("p",{className:"mt-1 p-2 bg-gray-50 rounded",children:e.explanation})]})]},e.id||l))})]})]})}var i=t(9475),c=t(6172);function o(e){let{recommendedMode:s,onStartNewQuiz:t,onStartMixedQuiz:l,onStartReview:n}=e,r="flex-1 flex flex-col items-center justify-center p-4 bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-300 text-slate-700 space-y-2 relative h-32",d="w-7 h-7 md:w-8 md:h-8 text-slate-500",o="flex-1 flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 space-y-2 ring-4 ring-blue-200 relative h-32",x="w-7 h-7 md:w-8 md:h-8 text-blue-100",m=()=>(0,a.jsx)("span",{className:"absolute -top-2 -right-2 text-xs px-2 py-0.5 bg-red-500 text-white rounded-full font-semibold border-2 border-white",children:"추천"});return(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-4 my-8",children:[(0,a.jsxs)("button",{onClick:t,className:"new"===s?o:r,children:[(0,a.jsx)(i.uMR,{className:"new"===s?x:d}),(0,a.jsxs)("span",{className:"text-center text-sm md:text-base leading-tight ".concat("new"===s?"font-bold":"font-semibold"),children:[(0,a.jsxs)("span",{className:"sm:hidden",children:["새로운",(0,a.jsx)("br",{}),"문제 풀기"]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"새로운 문제 풀기"})]}),"new"===s&&(0,a.jsx)(m,{})]}),(0,a.jsxs)("button",{onClick:l,className:"mixed"===s?o:r,children:[(0,a.jsx)(c.n9w,{className:"mixed"===s?x:d}),(0,a.jsxs)("span",{className:"text-center text-sm md:text-base leading-tight ".concat("mixed"===s?"font-bold":"font-semibold"),children:[(0,a.jsxs)("span",{className:"sm:hidden",children:["신규+복습",(0,a.jsx)("br",{}),"풀기"]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"신규+복습 풀기"})]}),"mixed"===s&&(0,a.jsx)(m,{})]}),(0,a.jsxs)("button",{onClick:n,className:r,children:[(0,a.jsx)(i.IGJ,{className:d}),(0,a.jsxs)("span",{className:"text-center text-sm md:text-base leading-tight font-semibold",children:[(0,a.jsxs)("span",{className:"sm:hidden",children:["자유",(0,a.jsx)("br",{}),"복습"]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"자유 복습"})]})]})]})}function x(e){let{onClose:s,onSelectMode:t}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm text-center p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"복습 방식 선택"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:()=>t("review_all"),className:"w-full p-4 bg-slate-100 text-slate-800 rounded-lg font-semibold hover:bg-slate-200 transition-colors",children:"풀었던 문제 전체 복습"}),(0,a.jsx)("button",{onClick:()=>t("review_incorrect"),className:"w-full p-4 bg-slate-100 text-slate-800 rounded-lg font-semibold hover:bg-slate-200 transition-colors",children:"틀린 문항만 다시 풀기"})]}),(0,a.jsx)("button",{onClick:s,className:"mt-8 text-gray-500 hover:text-gray-800",children:"닫기"})]})})}var m=t(9245),u=t(3125),h=t(5190);function b(){return(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded-md w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded-md w-1/2"})]}),(0,a.jsx)("div",{className:"h-40 bg-gray-200 rounded-xl mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"md:col-span-2 h-32 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded-md w-1/3 mb-4"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded-lg"})]})]})}var g=t(7034),j=t(5507);function p(e){let{submissions:s}=e;if(0===s.length)return null;let t=s[0],l=(0,g.m)(t.createdAt.toDate(),{addSuffix:!0,locale:j.ko}),n=(e=>{switch(e){case"new":return"신규 학습";case"mixed":return"추천 학습";case"review_all":return"전체 복습";case"review_incorrect":return"오답 복습";default:return"학습"}})(t.quizMode),r="".concat(t.mainChapter," - ").concat(t.subChapter);return(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"최근 활동"}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-semibold bg-primary/10 text-primary px-2 py-1 rounded-full",children:n}),(0,a.jsx)("p",{className:"font-semibold mt-2",children:r}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"점수"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-primary",children:[t.score,"점"]})]})]})})]})}var N=t(1733);function y(e){let{streakCount:s}=e;return 0===s?null:(0,a.jsxs)(N.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 bg-orange-100 px-3 py-1.5 rounded-full",children:[(0,a.jsx)("span",{children:"\uD83D\uDD25"}),(0,a.jsxs)("div",{className:"text-orange-600 font-bold text-sm text-right leading-tight",children:[(0,a.jsxs)("span",{children:[s,"일 연속"]}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:"학습 중!"})]})]})}function f(e){let{strongestChapter:s,weakestChapter:t}=e;return s||t?(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"학습 분석"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s?(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border flex items-start space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"가장 자신 있는 중단원"}),(0,a.jsx)("p",{className:"font-bold text-gray-800",children:s})]})]}):(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border flex items-start space-x-3 text-gray-400",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:"데이터 부족"}),(0,a.jsx)("p",{className:"font-bold",children:"아직 강점 단원이 없어요"})]})]}),t?(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border flex items-start space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDDD0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"보완이 필요한 중단원"}),(0,a.jsx)("p",{className:"font-bold text-gray-800",children:t})]})]}):(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border flex items-start space-x-3 text-gray-400",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDDD0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:"데이터 부족"}),(0,a.jsx)("p",{className:"font-bold",children:"아직 약점 단원이 없어요"})]})]})]})]}):null}function v(e){let{onJoinClick:s}=e;return(0,a.jsxs)("section",{className:"bg-white border-2 border-dashed border-gray-300 p-6 rounded-lg text-center mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"학원 수업에 참여하시나요?"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 mb-4",children:"학원에 소속되어 있다면, 가입 요청을 보내 선생님이 내주는 과제를 받아보세요."}),(0,a.jsx)("button",{onClick:s,className:"px-6 py-2 bg-slate-700 text-white font-semibold rounded-lg hover:bg-slate-800 transition-colors",children:"학원 가입 요청하기"})]})}var w=t(5465),C=t(9708);function S(){return(0,a.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function D(e){let{onClose:s,onConfirm:t}=e,[n,r]=(0,l.useState)([]),[d,i]=(0,l.useState)(""),[c,o]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{let e=(0,C.P)((0,C.rJ)(w.db,"academies"),(0,C._M)("isDeleted","!=",!0),(0,C.My)("name")),s=(await (0,C.GG)(e)).docs.map(e=>({id:e.id,name:e.data().name}));r(s)}catch(e){console.error("학원 목록을 불러오는 데 실패했습니다:",e)}finally{o(!1)}})()},[]),(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"학원 가입 요청"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-800 text-2xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"p-6",children:c?(0,a.jsx)(S,{}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"academy-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"소속된 학원을 선택해주세요."}),(0,a.jsxs)("select",{id:"academy-select",value:d,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",children:[(0,a.jsx)("option",{value:"",children:"학원 선택..."}),n.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]})]})}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 border-t flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"취소"}),(0,a.jsx)("button",{onClick:()=>{d&&t(d)},disabled:!d||c,className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-hover disabled:bg-gray-400",children:"가입 요청"})]})]})})}var k=t(7902),A=t(183);let I=e=>{let{assignment:s,isCompleted:t,isNext:l,isOverdue:n,onStart:r}=e,d="⏳",i="text-slate-500",c="border-slate-200";return t?(d="✅",i="text-green-600",c="border-green-200"):n?(d="❗️",i="text-red-600",c="border-red-200"):l&&(i="text-primary",c="border-primary"),(0,a.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(c," bg-white transition-all"),children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3 ".concat(i),children:d}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold ".concat(i),children:s.assignmentName}),s.dueDate&&(0,a.jsxs)("p",{className:"text-xs mt-1 ".concat(n?"font-bold text-red-600":"text-slate-500"),children:["마감: ",(0,k.GP)(s.dueDate.toDate(),"yyyy.MM.dd")]})]})]}),!t&&(0,a.jsx)("button",{onClick:()=>r(s),disabled:!l,className:"bg-primary text-white font-bold py-2 px-4 rounded-lg text-sm   hover:bg-primary-hover transition-colors   disabled:bg-slate-300 disabled:cursor-not-allowed",children:l?"과제 시작":"대기"})]})})},M=e=>{let{allAssignments:s,completedAssignmentIds:t,onStart:l}=e,n=s.find(e=>!t.has(e.id));return 0===s.length?(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8 text-center",children:(0,a.jsx)("p",{className:"text-slate-500",children:"아직 등록된 과제가 없어요. 선생님께서 곧 과제를 등록해주실 거예요!"})}):n?(0,a.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg shadow-sm mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"이번 주 과제 현황"}),(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>{let s=t.has(e.id),r=!!e.dueDate&&(0,A.R)(e.dueDate.toDate())&&!s,d=e.id===(null==n?void 0:n.id);return(0,a.jsx)(I,{assignment:e,isCompleted:s,isNext:d,isOverdue:r,onStart:l},e.id)})})]}):(0,a.jsx)("div",{className:"bg-green-50 p-6 rounded-lg shadow-sm mb-8 text-center border-l-4 border-green-500",children:(0,a.jsx)("p",{className:"font-semibold text-green-800",children:"모든 과제를 완료했어요! 정말 대단해요! \uD83C\uDF89"})})};var _=t(6849),q=t(5205),E=t(8753),P=t(2663);function G(){let{user:e}=(0,q.A)(),{submissions:s,totalAnsweredCount:t,studyStreak:i,strongestChapter:c,weakestChapter:g,loading:j}=(0,E.f)(),[N,S]=(0,l.useState)(null),[k,A]=(0,l.useState)([]),[I,G]=(0,l.useState)(new Set),[O,z]=(0,l.useState)(null),[J,Q]=(0,l.useState)(!0),[R,H]=(0,l.useState)(!1),[F,T]=(0,l.useState)(!1),[B,U]=(0,l.useState)(!1),[Z,K]=(0,l.useState)(!1),[L,V]=(0,l.useState)(!1),[W,X]=(0,l.useState)(null),[Y,$]=(0,l.useState)(null),[ee,es]=(0,l.useState)(null),[et,ea]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!e)return void Q(!1);let s=(0,C.H9)(w.db,"students",e.uid),t=(0,C.H9)(w.db,"learningPlans",e.uid);(async()=>{Q(!0);let[a,l]=await Promise.all([(0,C.x7)(s),(0,C.x7)(t)]),n=null;if(a.exists()&&S(n=a.data()),l.exists()?z(l.data()):z(null),(null==n?void 0:n.academyName)&&(null==n?void 0:n.status)==="active"){let s=(0,C.P)((0,C.rJ)(w.db,"academyAssignments"),(0,C._M)("academyName","==",n.academyName),(0,C.My)("week","asc"));A((await (0,C.GG)(s)).docs.map(e=>({id:e.id,...e.data()})));let t=(0,C.P)((0,C.rJ)(w.db,"submissions"),(0,C._M)("userId","==",e.uid),(0,C._M)("assignmentId","!=",null));G(new Set((await (0,C.GG)(t)).docs.map(e=>e.data().assignmentId)))}else A([]),G(new Set);Q(!1)})()},[e]);let el=async s=>{if(!e)return;let t=(0,C.H9)(w.db,"students",e.uid);try{await (0,C.mZ)(t,{academyName:s,status:"pending"}),S(e=>({...e,academyName:s,status:"pending"})),T(!1),P.Ay.success("".concat(s,"에 가입 요청을 보냈습니다."))}catch(e){P.Ay.error("가입 요청에 실패했습니다.")}},en=(0,l.useMemo)(()=>t>=150?"mixed":"new",[t]),er=e=>{es(e),U(!0)},ed=async e=>{U(!1),V(!0);let s=e.mode||ee;try{let t=(0,_.Qg)(w.C,"generateExam"),a=(await t({unitIds:e.unitIds,questionCount:e.count,mode:s})).data.questions;X(a),P.Ay.success("시험지가 생성되었습니다!")}catch(e){P.Ay.error("시험지를 생성하는 중 오류가 발생했습니다.")}finally{V(!1)}},ei=async s=>{var t,a;if(!W||!e)return;let l=0,n=[];W.forEach((e,t)=>{e.answerIndex===s[t]?l++:n.push(e.id)});let r=Math.round(l/W.length*100),d={userId:e.uid,createdAt:(0,C.O5)(),score:r,answers:s,questionIds:W.map(e=>e.id),incorrectQuestionIds:n,quizMode:ee,mainChapter:(null==(t=W[0])?void 0:t.mainChapter)||"여러 단원",subChapter:(null==(a=W[0])?void 0:a.subChapter)||"혼합 학습",academyName:(null==N?void 0:N.academyName)||null,assignmentId:et};try{await (0,C.gS)((0,C.rJ)(w.db,"submissions"),d),et&&G(e=>new Set(e).add(et)),P.Ay.success("답안이 저장되었습니다.")}catch(e){P.Ay.error("답안 저장에 실패했습니다.")}$({questions:W,userAnswers:s}),X(null),ea(null)},ec=async s=>{if(!e)return;let t=(0,C.H9)(w.db,"learningPlans",e.uid),a={...s,userId:e.uid,status:"active",updatedAt:(0,C.O5)()};O||(a.createdAt=(0,C.O5)()),await (0,C.BN)(t,a,{merge:!0});let l=await (0,C.x7)(t);l.exists()&&z(l.data()),H(!1),P.Ay.success("학습 계획이 저장되었습니다!")};if(Y)return(0,a.jsx)(d,{questions:Y.questions,userAnswers:Y.userAnswers,onRestart:()=>{X(null),$(null)}});if(W)return(0,a.jsx)(r,{questions:W,onQuizComplete:ei});if(j||J)return(0,a.jsx)("main",{className:"p-8 max-w-2xl mx-auto",children:(0,a.jsx)(b,{})});let eo=(null==N?void 0:N.academyName)&&(null==N?void 0:N.status)==="active";return(0,a.jsxs)("main",{className:"p-8 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl md:text-3xl font-bold text-slate-800",children:["안녕하세요, ",(null==e?void 0:e.displayName)||"학습자","님!"]}),(0,a.jsx)("p",{className:"text-slate-500 mt-1",children:"오늘도 목표를 향해 달려볼까요? \uD83D\uDD25"})]}),(0,a.jsx)(y,{streakCount:i})]}),eo?(0,a.jsx)(M,{allAssignments:k,completedAssignmentIds:I,onStart:e=>{e&&(ea(e.id),ed({unitIds:e.assignedUnitIds,count:30,mode:"mixed"}))}}):(0,a.jsxs)(a.Fragment,{children:[N&&!N.academyName&&(0,a.jsx)(v,{onJoinClick:()=>T(!0)}),N&&"pending"===N.status&&(0,a.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-8",children:(0,a.jsxs)("p",{className:"font-semibold text-blue-800",children:[N.academyName,"의 승인을 기다리는 중입니다."]})})]}),O?(0,a.jsx)(u.A,{plan:O,submissions:s,onEditClick:()=>H(!0),onStartRecommended:()=>er(en)}):(0,a.jsx)(h.A,{onSetupClick:()=>H(!0)}),(0,a.jsx)(o,{recommendedMode:en,onStartNewQuiz:()=>er("new"),onStartMixedQuiz:()=>er("mixed"),onStartReview:()=>{K(!0)}}),(0,a.jsx)(f,{strongestChapter:c,weakestChapter:g}),(0,a.jsx)(p,{submissions:s}),F&&(0,a.jsx)(D,{onClose:()=>T(!1),onConfirm:el}),B&&(0,a.jsx)(n.A,{onClose:()=>U(!1),onComplete:e=>ed({...e,mode:ee})}),Z&&(0,a.jsx)(x,{onClose:()=>K(!1),onSelectMode:e=>{K(!1),ed({unitIds:[],count:30,mode:e})}}),R&&(0,a.jsx)(m.A,{onClose:()=>H(!1),onSave:ec,existingPlan:O})]})}},5264:(e,s,t)=>{Promise.resolve().then(t.bind(t,4465))}},e=>{e.O(0,[135,965,897,506,463,865,663,843,814,441,255,358],()=>e(e.s=5264)),_N_E=e.O()}]);